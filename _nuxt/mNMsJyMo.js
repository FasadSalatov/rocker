import{_ as F,a as R}from"./CLDoAxXr.js";import{d as S,u as B,r as _,j as P,o as i,b as l,m as V,e as r,g as v,w as L,v as U,s as E,k,B as b,q as w,_ as T,i as M,l as z,F as q,x as K,n as A,t as O,h as I,y as W,a as C,z as $,p as G}from"./CeJFteYl.js";import{_ as H}from"./2DHPzliX.js";const J={class:"promo-code",id:"promo-code"},Q={class:"promo-code-inner-no-active"},X={class:"promo-code-inner-type-form"},Y={key:1,class:"promo-code-active"},Z=S({__name:"promoCode",setup(y){const{setUser:p}=B(),g=_(!1),e=_(""),{$telegramInitData:o}=P(),u=_(null),f=()=>{g.value=!g.value},m=async()=>{var n;try{const a=(n=o==null?void 0:o.user)==null?void 0:n.id,c=await k.post(`${b}/privat/active`,{user_id:a,promo_code:e.value});w("/private"),d(),u.value=!0}catch(a){console.log(a),u.value=!1}},d=async()=>{var c;const n=(c=o==null?void 0:o.user)==null?void 0:c.id;n||(isAuth.value=!1);const a=await k.get(`${b}/user/${n}`);p(a.data)};return(n,a)=>{const c=T,j=H;return i(),l("section",J,[u.value?(i(),l("div",Y,[v(j,{to:"/private"},{default:E(()=>[v(c,{style:{height:"95px",display:"flex"},src:"/image/airdrop/button.png"})]),_:1})])):(i(),l("div",{key:0,class:V(["promo-code-inner",{"promo-code-inner-error":u.value===!1}])},[r("div",Q,[r("button",{class:"promo-code-inner-button",onClick:f},[v(c,{class:"promo-code-inner-button-icon",src:"/image/bin/promocode.png"})]),r("div",{class:V(["promo-code-inner-type",{"is-open":g.value}])},[a[1]||(a[1]=r("p",{class:"promo-code-inner-type-text"},"Ввести промо-код",-1)),r("div",X,[L(r("input",{"onUpdate:modelValue":a[0]||(a[0]=h=>e.value=h),class:"promo-code-inner-type-form-input",type:"text",placeholder:"Промо-код",autocomplete:"on",required:""},null,512),[[U,e.value]]),r("button",{class:"promo-code-inner-type-form-button",type:"submit",onClick:m},[v(c,{class:"promo-code-inner-type-form-button-icon",src:"/image/bin/submit.png"})])])],2)])],2))])}}}),D=M(Z,[["__scopeId","data-v-3d2b32d2"]]),ee=S({__name:"priveLink",setup(y){const p=()=>{w("/private")};return(g,e)=>(i(),l("button",{onClick:p,class:"button"},"Private"))}}),te=M(ee,[["__scopeId","data-v-2304c836"]]),oe={id:"app"},ae={class:"np-captcha-container"},ne={key:0,class:"np-captcha"},se=5,re={__name:"capcha",setup(y){var h;const{$telegramInitData:p}=P(),{setIsCapcha:g}=B(),e=_([]),o=_(""),u=_(localStorage.getItem("capchaSolved")==="true"),f=_([]),m=(h=p==null?void 0:p.user)==null?void 0:h.id,d=()=>{let t="";for(let s=0;s<se;s++)t+=n();e.value=t.split(""),f.value=e.value.map(()=>({fontSize:a()+"px",fontWeight:800,transform:"rotate("+c()+"deg)"}))},n=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=Math.floor(Math.random()*t.length);return t[s]},a=()=>{const t=[14,20,30,36,40];return t[Math.floor(Math.random()*t.length)]},c=()=>{const t=[5,10,20,25,-5,-10,-20,-25];return t[Math.floor(Math.random()*t.length)]},j=async()=>{if(console.log(o.value,e.value.join("")),o.value.toLocaleLowerCase()===e.value.join("").toLocaleLowerCase()){try{await k.post(`${b}/task/captcha`,{user_id:m})}catch{}localStorage.setItem("capchaSolved","true"),u.value=!0,g(!0),console.log("solved"),w("/airdrop")}else d()};return z(()=>{d()}),(t,s)=>(i(),l("div",oe,[s[1]||(s[1]=r("h3",null,"Введите капчу перед использованием приложения",-1)),r("div",ae,[e.value&&e.value.length?(i(),l("div",ne,[(i(!0),l(q,null,K(e.value,(x,N)=>(i(),l("div",{key:N,style:A(f.value[N]),class:"np-captcha-character"},O(x),5))),128)),L(r("input",{type:"text",class:"input","onUpdate:modelValue":s[0]||(s[0]=x=>o.value=x)},null,512),[[U,o.value]]),r("button",{onClick:j},"Проверить")])):I("",!0)])]))}},ce=S({__name:"index",setup(y){const{user:p,isCapcha:g}=B(),e=["image/farm/gt1.jpg","image/farm/gt2.jpg","image/farm/gt3.jpg","image/farm/gt4.jpg","image/farm/gt5.jpg","image/farm/gt6.jpg","image/farm/gt7.jpg","image/farm/gt8.jpg","image/farm/gt7.jpg","image/farm/gt6.jpg","image/farm/gt5.jpg","image/farm/gt4.jpg","image/farm/gt3.jpg","image/farm/gt2.jpg","image/farm/gt1.jpg","image/farm/gt2.jpg","image/farm/gt3.jpg","image/farm/gt4.jpg","image/farm/gt5.jpg","image/farm/gt6.jpg","image/farm/gt7.jpg","image/farm/gt8.jpg","image/farm/gt7.jpg","image/farm/gt6.jpg","image/farm/gt5.jpg","image/farm/gt4.jpg","image/farm/gt3.jpg","image/farm/gt2.jpg"],o=_(e[0]);function u(m){m.forEach(d=>{const n=new Image;n.src=d})}z(()=>{u(e),f()});function f(){let m=0;W(()=>{m=(m+1)%e.length,o.value=e[m]},55)}return(m,d)=>{var t,s;const n=F,a=D,c=te,j=re,h=R;return i(),l("div",null,[v(n),r("div",{class:"background",style:A({backgroundImage:`url(${o.value})`})},[(t=C(p))!=null&&t.promo_active?I("",!0):(i(),$(a,{key:0})),(s=C(p))!=null&&s.promo_active?(i(),$(c,{key:1})):I("",!0)],4),L(v(j,null,null,512),[[G,!C(g)]]),v(h)])}}}),le=M(ce,[["__scopeId","data-v-1d36983c"]]);export{le as default};
